# RAN Digital Twin Simulation

## Overview

This repository contains scripts and configurations for building a RAN (Radio Access Network) Digital Twin simulation. The simulation architecture includes a 5G core network, an RIC (RAN Intelligent Controller), disaggregated gNB (CU/DU), and multiple dedicated UE instances. It also supports 4G UEs with the `srs4G` build option. The entire setup is designed to be modular, allowing customization and deployment in different modes (Core, Edge, etc.).

### Key Components

- **Open5GS 5GC Core**: Core Network components such as MME/AMF/SGW/PGW.
- **OSC RIC**: Modified Open Source RAN Intelligent Controller supporting machine virtualization.
- **srsRAN gNB**: Disaggregated CU/DU for the gNB.
- **srsUE**: Multiple instances of dedicated UE using srsRAN.
- **GNU Radio**: Modulation and RF signal processing for the UEs.

## Directory Structure

```plaintext
├── compile/                   # Compilation scripts for building various components
│   ├── open5gs.sh             # Builds the Open5GS 5G Core
│   ├── osc-ric.sh             # Builds the OSC RIC
│   ├── srs4G.sh               # Builds the srsRAN 4G UE
│   ├── srs_project.sh         # Builds the srsRAN project
│   └── srsgnb.sh              # Builds the srsRAN gNB
├── configs/                   # Configuration files for UEs and other components
│   ├── subscriber_db.csv      # List of subscribers (IMSI, Keys, OP/OPC, etc.)
│   ├── ue_template_zmq.conf   # Template for UE ZMQ configuration files
│   ├── <generated_ue_files>   # UE-specific configuration files generated by scripts
├── oran-sc-ric/               # Source files and builds for OSC RIC (added after build)
├── srsRAN_4G/                 # Source files and builds for srsRAN 4G UE (added after build)
├── srsRAN_Project/            # Source files and builds for srsRAN project (added after build)
├── build-digital-twin.sh       # Main script to build and deploy the RAN Digital Twin
├── srsue.sh                   # Generates srsUE configuration files
└── README.md                  # Documentation for the project
```

## Scripts

### `build-digital-twin.sh`
The primary script for building the entire RAN Digital Twin environment. This script automates the deployment of the RAN architecture, including the core network, RIC, gNB, and UE instances.

#### Usage

```bash
./build-digital-twin.sh [options]
```

### Configuration Files (`configs/`)

- **`subscriber_db.csv`**: Contains the subscriber information such as IMSI, Key, and OPC values. The script uses this file to populate each UE configuration.
- **`gnb_zmq.conf`**: A template configuration file used to generate gnb configuration files. Synchronized with modified RIC configuration.
- **`ue_template_zmq.conf`**: A template configuration file used to generate UE-specific configuration files.

The **`srsue.sh`**: script will create individual configuration files for each UE (ueX_zmq.conf) based on this template and the data from subscriber_db.csv.

## Build Process

1. **Clone and build**: After running the scripts, the following directories will be created and populated with source files and build outputs:
   - `oran-sc-ric/`: Contains the OSC RIC build.
   - `srsRAN_4G/`: Contains the build and binaries for the srs4G UE.
   - `srsRAN_Project/`: Contains the build and binaries for the srsRAN project.

2. **Generate UEs**: Use the `srsue.sh` script to generate configuration files for the required number of UEs. The configuration files are staged in the appropriate directories.

3. **Run the simulation**: Once everything is built, the simulation is ready for deployment, with the RAN architecture functioning in a virtualized environment.

---

## Future Enhancements

- Add support for edge RAN deployments.
- Integration with additional xApps for enhanced performance monitoring.
- Expand signal modulation and RF waveform processing using GNU Radio.

## Contact

For further assistance, feel free to contact the **Clemson University IS-WiN Laboratory ORAN team** led by Tolunay Sefyi, Ryan Barker, and Basir Reze.
